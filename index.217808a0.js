function e(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function r(r){return function(r){if(Array.isArray(r))return e(r)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(r,t){if(r){if("string"==typeof r)return e(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if("Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(r,t)}}(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}for(var t=[[],[],[],[]],n=r(document.querySelectorAll(".field-row")),o=document.querySelectorAll(".field-cell"),l=n.map(function(e){return r(e.querySelectorAll(".field-cell"))}),a=[2,2,2,2,2,2,2,2,2,4],i=document.querySelector(".start"),c=document.querySelector(".message-start"),u=document.querySelector(".message-lose"),f=document.querySelector(".message-win"),s=document.querySelector(".game-score"),d=0;d<4;d++)for(var y=0;y<4;y++)t[y].push(n[d].children[y]);var v=r(o),m=!1,h=!1;function b(){if(v.length){var e=function(e){return Math.floor(Math.random()*e.length)},r=v[e(v)],t=a[e(a)];r.classList="field-cell field-cell--".concat(t),r.innerText=t,v.splice(v.indexOf(r),1)}}var x=function(){c.style="display: none;",i.classList="button restart",i.innerText="Restart",b(),b(),m=!0},w=function(){u.classList.add("hidden"),f.classList.add("hidden"),v=r(o),s.innerText=0,o.forEach(function(e){e.innerText="",e.className="field-cell"}),b(),b()};function A(e){e.innerText="",e.className="field-cell",v.push(e)}function p(e){for(var r=3;r>0;r--){var t,n,o=v.includes(e[r])&&!v.includes(e[r-1]),l=e[r].innerText===e[r-1].innerText&&e[r].innerText.length&&!e[r-1].dataset.blocked;(l||o)&&!h&&(h=!0),l&&(function(e,r){var t=2*e.innerText;e.innerText=t,e.className="field-cell field-cell--".concat(t),s.innerText=+s.innerText+t,A(r),e.dataset.blocked=!0,r.dataset.blocked=!0,2048===t&&f.classList.remove("hidden")}(e[r],e[r-1]),p(e)),o&&(t=e[r],n=e[r-1],t.innerText=n.innerText,t.className=n.className,v.splice(v.indexOf(t),1),A(n),p(e))}}document.addEventListener("keydown",function(e){["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),function(e){switch(v.length||function(){var e=r(l).concat(r(t)),n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done);n=!0)for(var u=i.value,f=0;f<3;f++)if(u[f].innerText===u[f+1].innerText)return!0}catch(e){o=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}}()||u.classList.remove("hidden"),e){case"ArrowUp":!function(){var e=!0,n=!1,o=void 0;try{for(var l,a=t[Symbol.iterator]();!(e=(l=a.next()).done);e=!0){var i=l.value;p(r(i).reverse())}}catch(e){n=!0,o=e}finally{try{e||null==a.return||a.return()}finally{if(n)throw o}}}();break;case"ArrowDown":!function(){var e=!0,r=!1,n=void 0;try{for(var o,l=t[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){var a=o.value;p(a)}}catch(e){r=!0,n=e}finally{try{e||null==l.return||l.return()}finally{if(r)throw n}}}();break;case"ArrowRight":!function(){var e=!0,r=!1,t=void 0;try{for(var n,o=l[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var a=n.value;p(a)}}catch(e){r=!0,t=e}finally{try{e||null==o.return||o.return()}finally{if(r)throw t}}}();break;case"ArrowLeft":!function(){var e=!0,t=!1,n=void 0;try{for(var o,a=l[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var i=o.value;p(r(i).reverse())}}catch(e){t=!0,n=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}}()}o.forEach(function(e){e.removeAttribute("data-blocked")})}(e.key),h&&(b(),h=!1))}),i.addEventListener("click",function(){m?w():x()});//# sourceMappingURL=index.217808a0.js.map

//# sourceMappingURL=index.217808a0.js.map
